<table border="1" cellspacing="1" cellpadding="4">
  <tr>
    <% for i in 1..10 %>
      <th width="50" colspan="3"><center><%= i %></center></th> 
    <% end %>
  </tr>
    
  <% a = 0 %>  
  <% b = 0 %>
  <tr>

    <% while a < player.score.length %>
      <% if b >= 9 %>
        <td><center><%=player.score[a]%></center></td>
        <% b += 1 %>
        <% a += 1 %>
      <% elsif player.score[a] == 'X' %>
          <% b += 1 %>
          <td colspan="2"></td>
          <td><center>X</center></td>
          <% a += 1 %>
      <% else %>
          <% b += 1 %>
          <td colspan="2"><center><%= player.score[a] %><center></td>
          <td><center><%= player.score[a+1] %><center></td>
          <% a += 2 %>       
      <% end %>
    <% end %>

    <% if b < 10 %>
      <% b = 9-b %>
      <% for a in 0..b %>
        <% if a == b %>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        <% else %>
          <td colspan="2">&nbsp;</td>
          <td>&nbsp;</td>
        <% end %>
      <% end %>
    <% end %>

  </tr>

  <% a = 0 %>  
  <tr>
    <% player.frames.each do |f| %>
      <td colspan="3">
        <center><%= f.read_attribute(:total) %></center>
      </td>   
      <% a += 1 %>
    <% end %>

    <% a = 9-a %>
    <% for c in 0..a %>
      <td colspan="3"><center>&nbsp;</center></td>
    <% end %>
  </tr>
</table>